## NHN Cloud > Public API > 프레임워크 API

### 개요
- 이 API들을 통해 프로젝트 멤버를 생성하거나 역할을 부여하는 등 조직과 프로젝트를 관리할 수 있습니다.
- API 사용을 위해선 [API 인증](https://docs.gov-nhncloud.com/ko/nhncloud/ko/public-api/api-authentication)을 통해 발급받은 Bearer 타입의 토큰이 필요합니다.
- API 호출 시, API 인증을 받은 멤버의 권한을 검사합니다.

### Public API 도메인
`https://core.api.nhncloudservice.com/`

### 공통

#### Request
Public API 를 호출할 때면 아래 Request Header를 반드시 포함해야 합니다.


| ParameterType | Name | Type | Required | Description  | 
|------------- |------------- | ------------- | ------------- | ------------- | 
| Header |  **x-nhn-authorization** | **String**| **Yes** | 사용자가 발급받은 Bearer 타입 토큰 |


#### Response
Public API 반환 시 아래 header 부분이 Response Body에 포함됩니다.
```json
{
  "header" : {
    "isSuccessful" : true,
    "resultCode" : 0,
    "resultMessage" : "resultMessage"
  }
}
```

| Name | Type | Required | Description | 
|------------ | ------------- | ------------- | ------------ |
|   **isSuccessful** | **Boolean**| **No** | 성공여부  |
|   **resultCode** | **Integer**| **No** | 결과코드. 성공 시 0이 반환되며, 실패 시 에러코드가 반환  |
|   **resultMessage** | **String**| **No** | 결과메세지  |

### 에러 코드

| resultCode | 설명                                                                                  | 조치                                                      |
| ---------- |-------------------------------------------------------------------------------------|---------------------------------------------------------|
| **80007** | **만료되었거나 존재하지 않는 토큰을 사용해서 호출한 경우 발생하는 에러**                                          | 새로운 토큰을 발급하여 사용                                         |
| **-6** | **권한 없는 호출자가 호출한 경우에 발생하는 에러**                                                      | 호출자에게 적절한 권한을 부여                                        |
| -8 | 조직 IP ACL 정책에 의해 IP 검증이 실패한 경우 발생하는 에러                                              | 조직 IP ACL 에 해당 IP가 등록되었는지 확인                            |
| 404 | 없는 API 호출시 발생                                                                       | 호출하는 API의 httpmethod,uri를 확인                            |
| 400<br>501<br>502<br>503<br>504<br>505 | 요청 파라미터가 적절하지 않을 때 발생하는 에러                                                          | 요청 파라미터의 필수값 및 설정 가능한 값 등을 확인                           |
| 500 | 비정상 시스템 에러                                                                          | 담당자에게 문의                                            |
| 1000 | 파라미터가 잘못될 경우 발생하는 에러 <br> 조직 IAM 멤버 API - `IAM 멤버 패스워드 변경 이메일 전송` 요청 값 returnUrl 이 허가된 도메인이 아닐 때 발생 (허가된 도메인 : toast.com, dooray.com, nhncloud.com) | 요청 파라미터 확인                                              |
| 10005<br>70008<br>1104 | 요청 파라미터가 적절하지 않을 때 발생하는 에러 | 요청 파라미터의 필수값 및 설정 가능한 값 등을 확인 |
| 10009 | 조직 또는 프로젝트에 존재하지 않은 역할을 부여할 때 발생하는 에러                                               | 멤버에게 존재하는 역할을 부여하도록 변경                                  |
| 10010 | 역할 그룹 삭제 시, 프로젝트 멤버(초대중인 멤버 포함)에 해당 역할 그룹만 부여된 경우 발생하는 에러<br>프로젝트 멤버 역할 변경 시, 아무 역할도 부여하지 않을 때 발생하는 에러| 1) 삭제하려는 역할 그룹`만` 가진 프로젝트 멤버 멤버(초대중인 멤버 포함)들의 역할을 다른 역할로 변경 또는 해당 멤버들 삭제 <br> 2) 프로젝트 멤버 역할 변경 시, 요청에 역할에 대한 값을 설정하여 요청 |
| 10012 | 프로젝트 멤버 삭제 시, 해당 멤버가 삭제되면서 해당 프로젝트에 ADMIN 역할을 가진 멤버가 더 이상 존재하지 않을 경우 발생하는 에러        | 1) 삭제 대상이 아닌 다른 프로젝트 멤버에게 ADMIN 역할 부여 <br>2) ADMIN 역할이 아닌 대상을 삭제|
| 12100 | 프로젝트 멤버가 존재하지 않을 때 발생하는 에러                                                          | 존재하는 프로젝트 멤버 uuid 사용                                    |
| 12101 | 요청 uuid와 대상 uuid 가 동일한 것이 허용되지 않는 API에서 동일할 경우 발생하는 에러                              | 대상 uuid와 요청 uuid 를 다르게 설정                               |
| 12400 | 존재하지 않거나 삭제된 프로젝트에 멤버를 추가할 경우 발생하는 에러                                               | 존재하는 프로젝에 멤버 추가하도록 변경                                  |
| 12401 | 로젝트 생성 시, 해당 프로젝트의 조직 오너 계정에 설정된 프로젝트 생성 갯수 제한을 초과했을 경우 발생하는 에러                    | 1) 사용하지 않은 로젝트를 삭제하여 생성 가능한 프로젝트 수 확보 <br>2) 담당자를 통해 프로젝트 최대 생성 개수 조정요청 |
| 12500 | 프로트 삭제 시, 사용중인 서비스가 존재할 때 발생하는 에러                                                  | 해당 프로젝트의 사용중인서비스 전부 비활성화 처리후 프로젝트 삭제 처리 시도             |
| 13001 | 서비스 활화/비활성화 실패 시 발생하는 에러                                                           | 담당자에게 문의                                           |
| 13004 | 서비스 활성화  서비스의 상태가 유효하지 않을 때 발생하는 에러                                                | 담당자에게 문의                                           |
| 13004 | 활성화 불가능한 서비를 활성화 했을 경우 발생하는 에러                                                     | 활성화 가능한 서비스에 대해 활성화                                    |
| 13006 | 법인 전용 서비스 활성화 , 조직 오너의 계정 타입이 법인이 아닐 경우 발생하는 에러                                    | 법인 계정 타입을 가진 조직 오너의 조직 하위프로젝트에서 서비스 활성화 시도             |
| 22006 | 추가시 이미 존재하는 경우 발생 | 중복된 요청이 오지 않도록 처리 |
| 22013 | 조직 오너의 역할을 변경 시도했 때 발생하는 에러                                                        | 조직 오너를 대상으로 역할 변경은 불가능.                                |
| 22014 | 조직 ADMIN 역할이 아닌 대상을 직 오너 역할로 변경할 때 발생하는 에러                                         | 역할 변경 대상 멤버의 역할을 ADMIN으로 변경                            |
| 22016 | 조직이 존재하지 않을 때 발생하는 에러                                                              | 존재하는 조직의 orgId 로 요청하는지 확인                              |
| 22018 | 조직에 조직 오너가 존재하지 않을 경우 발생하는에러                                                       | 1) 조직에 오너 존재 유무 확인 <br>2) 담당자에게 문                  |
| 22021 | 조직 생성 시, 조직 오너 계정에 설정된 조직 생성 수 제한을 초과했을 경우 발생하는 에러                                 | 1) 사용하지 않은 조직을 삭제하여 생성 가능한 조직 갯수 확보 <br>) 담당자를 통해 조직 생성 최대 개수 조정 |
| 23005 | 조직 ID에 해당하는 조직이 존재하지 않을 때 발생하는 러                                                   | 담당자 문의                                             |
| 30015 | 프로젝트 앱키의 생성 제한 횟수를 초과할 경우 발생하는 에러<r>프로젝트 AppKey API - `프로젝트 AppKey 생성`에서 생성되는 프로젝트 앱키의 생성 가능 횟수는 3개이고, 3개를 초과할 경우 에러 발생 | 사용하지 않은 프로젝트 앱키 삭제 후 재시도                               |
| 40017 | 프로젝트가 존재하지 않을 경우 발생하는 에러                                                           | 존재하는 프로젝트에 대해 API 요청                                   |
| 40028<br>13003 | 프로젝트가 존재하지 않을 경우(생성했다가 삭제한 경우) 생하는 에러                                              | 존재하는 프로젝트에 대해 API 요청                                   |
| 40054 | 상품 활성화 시, 먼저 활성화가 되어야 하는 서비스가 활성화가 되어있지 않은 우 발생하는 에러                               | 먼저 활성화가 되어야하는 서비스 활성화 처리                               |
| 40057 | 상품 비활성화 시, 먼저 비활성화가 되어야 하는 서비스가 비활성화가 되어있지 않은 우 발생하는 에러                            | 먼저 비활성화가 되어야하는 서비스 비활성화 처리                              |
| 50007 | 유효하지 않은 멤버일 때, 발생하는 에러<br>(존재하지 않는 멤버이거나, 휴면 및 탈퇴 상태의 회원은 유효하지 않음)<br>조직 생성 API - API 호출 시, uuid 가 유효하지 않을 경우 | 유효한 멤버의 uuid 로 수정                                 |
| 60003 | DB 에 데이터가 없을 경우 발생하는 에러<br>프로젝트 AppKey API - `프로젝트 AppKey 삭제` 에서 삭제할 appkey 가 없을 경우 발생하는 에러 | 1) 담당자 문의 <br>2) 존재하는 AppKey 를 삭제 대상 AppKey 값으로 설정  |
| 60004 | DB에 중복된 키를 가진 데이터 존재할 경우 발생하는 에러                                                    | 담당자에게 문의                                            |
| 62004 | 역할 그룹 생성 시 동일한 이름의 역할 그룹이 존재하는 경우 발생하는 에러                                           | 중복되지 않은 이름으로 변경                                         |
| 62007 | 역할 그룹 에 역할 삭제시 해당 역할 그룹에 역할들이 존재하지 않는 경우 발생                                         | 역할 그룹에 적어도 역할 하나는 존재할수 있도록 변경                           |
| 62008 | 역할 그룹 수정, 삭제, 역할 그룹에 역할 추가/삭제 시 역할 그룹 ID 가 존재하지 않는 경우 발생                            | 존재하는 역할 그룹 ID 를 사용하도록 변경                                |
| 62009 | 역할 그룹 생성 시 역할들이 유효하지 않은 역할인 경우 발생                                                   | 유효한 역할들을 사용하도록 변경                                       |
| 62011 | 역할 그룹 삭제 시 알림 그룹에서 사용중이어서 발생                                                        | 알림 그룹 삭제 후 역할 그룹을 삭제하도록 변경                              |
| 62014 | 역할 그룹 삭제, 역할 그룹에 역할 추가/삭제 시 역할 그룹을 할당했던 멤버들이 역할을 상품에 통지하는데 실패                       | 담당자에게 문의                                            |
| 72005 | 빌링 관련 API 호출이 실패할 때 발생하는 에러                                                         | 담당자에게 문의                                            |
| 70013 | 이용중인 서비스가 존재할 때 발생하는 에러                                                             | 이용중인 서비스 비활성화                                           |
| 70014 | 멤버 탈퇴 조건이 만족하지 않을 경우 발생하는 에러<br> IAM - 1) 사용중인 서비스가 있을 때 2) 삭제되지 않은 프로젝트가 있을 때 3) 해당 멤버가 임의의 프로젝트에 ADMIN 역할로 존재할 때| 각 멤버 타입에 맞는 탈퇴 조건을 만족하도록 설정                          |
| 70024 | 결제 수단이 정상적으로 등록되지 않았을 때 발생하는 에러                                                     | 결제수단 등록                                                 |
| 70032 | 미납으로 인해 멤버 블록이 되었을 경우 발생하는 에러                                                       | 해당 계정이 가진 미납 청구서 결제                                     |
| -100201 | 존재하지 않는 계정 또는 조직                                                                    | 요청 정보 재확인 필요                                            |
| -200200 | 비정상적인 계정                                                                            | 요청 계정 정보 확인 필요                                          |
| -200201 | user-code 길이 조건이 맞지 않는 경우                                                           | 20 자 이내의 소문자, 소문자, 숫자, 특수문자(`-`, `_`, `.`) 의 사용 가능.<br>특수문자(`-`, `_`, `.`) 은 제일 앞과 제일 뒤에는 사용할 수 없음.|
| -200202 | user-code 포맷 조건이 맞지 않는 경우                                                           | 소문자, 숫자, 특수문자(`-`, `_`, `.`) 의 사용 가능.<br>특수문자(`-`, `_`, `.`) 은 제일 앞과 제일 뒤에는 사용할 수 없음.|
| -200203 | 이름 길이 조건이 맞지 않는 경우                                                                | 60자 이내의 길이 요건을 만족하도록 이름 길이 수정                           |
| -200204 | 멤버 생성 수정시 user-code 가 겹치는 경우                                                        | 중복되지 않는 user-code 로 변경하여 요청                             |
| -200205 | 멤버 생성 수정시 email 이 겹치는 경우                                                            | 중복되지 않는 email 로 변경하여 요청                                 |
| -200207 | IDP 식별 계정 중복                                                                        | 담당자에게 문의                                            |